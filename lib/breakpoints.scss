@use "sass:list";
@use "sass:map";
@use "variables";

@mixin media-up-to($size) {
  $value: map.get(variables.$sizes, $size);

  @if $value == null {
    @error "`#{$value}` is not a valid size";
  }

  @media (min-width: $value) {
    @content;
  }
}

@mixin media-down-to($size) {
  $value: map.get(variables.$sizes, $size);

  @if $value == null {
    @error "`#{$value}` is not a valid size";
  }

  @media (max-width: $value - 1) {
    @content;
  }
}

@mixin media-only($size) {
  $value: map.get(variables.$sizes, $size);

  @if $value == null {
    @error "`#{$size}` is not a valid size";
  }

  $index: list.index(variables.$sizes, $size $value);
  $value-up: list.nth(map.values(variables.$sizes), $index + 1);

  @media (min-width: $value) and (max-width: $value-up - 1) {
    @content;
  }
}

@mixin media-between($size1, $size2) {
  $value1: map.get(variables.$sizes, $size1);
  $value2: map.get(variables.$sizes, $size2);

  @if $value1 == null {
    @error "`#{$size1}` is not a valid size";
  }
  @if $value2 == null {
    @error "`#{$size2}` is not a valid size";
  }

  @media (min-width: $value1) and (max-width: $value2 - 1) {
    @content;
  }
}
